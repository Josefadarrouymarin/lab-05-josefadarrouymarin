<h2>Chat Details</h2>

<p><strong>Sender:</strong> <%= @chat.sender.first_name %> <%= @chat.sender.last_name %></p>
<p><strong>Receiver:</strong> <%= @chat.receiver.first_name %> <%= @chat.receiver.last_name %></p>

<h3>Messages</h3>
<ul>
  <% @chat.messages.each do |msg| %>
    <li>
      <strong><%= msg.user.first_name %>:</strong> <%= msg.body %> â€”
      <%= link_to 'View Message', message_path(msg) %>
    </li>
  <% end %>
</ul>

<% if can? :edit, @chat %>
  <%= link_to 'Edit chat', edit_chat_path(@chat), class: 'btn btn-outline-secondary me-2' %>
<% end %>

<% if can? :destroy, @chat %>
  <%= button_to 'Delete chat', chat_path(@chat), method: :delete,
                  data: { confirm: 'Are you sure you want to delete this chat?' },
                  class: 'btn btn-danger me-2' %>
<% end %>

<%= link_to 'Back to chats', chats_path, class: 'btn btn-primary' %>
